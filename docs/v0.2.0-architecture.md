# v0.2.0 Layout Architecture

The sizing engine replaces ad-hoc conditionals with composable rules. A
`RuleRegistry` holds `SizeRule` implementations. During measurement each axis
creates a `MeasureCtx` and passes it through the registry. Rules are pure and
ordered by phase and priority which keeps behavior deterministic.

UI elements compose the engine: `UIElement` provides box model data and invokes
the registry for width and height. `LeafElement` exposes intrinsic content size
while `SingleChildElement` proxies measurement to its child before applying its
own rules.
